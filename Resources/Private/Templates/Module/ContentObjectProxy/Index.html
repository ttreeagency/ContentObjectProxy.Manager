{namespace neos=TYPO3\Neos\ViewHelpers}
<f:layout name="BackendSubModule"/>

<f:section name="subtitle">
    <div class="neos-module-container" style="padding-bottom: 1em;">

        <f:if condition="{currentEntity}">
            <f:then>
                <h2>Content Object Proxy Dashboard / <em>{currentEntity}</em></h2>
            </f:then>
            <f:else>
                <h2>Content Object Proxy Dashboard</h2>
            </f:else>
        </f:if>
    </div>
</f:section>

<f:section name="content">
    <f:if condition="{currentEntity}">
        <f:then>
            <f:for each="{tasks}" as="task">
                <f:link.action action="execute"
                               class="{task.buttonClass}"
                               title="{task.description}"
                               arguments="{currentEntity: currentEntity, task: task.__className}"
                               addQueryString="TRUE">
                    <i class="icon-refresh"></i> {task.label}
                </f:link.action>
            </f:for>
        </f:then>
        <f:else>
            <f:render partial="EntitySelector" arguments="{entities: entities}"/>
        </f:else>
    </f:if>
</f:section>
