{namespace neos=TYPO3\Neos\ViewHelpers}
<f:layout name="BackendSubModule"/>

<f:section name="subtitle">
    <div class="neos-module-container">
        <f:if condition="{currentEntity}">
            <f:then>
                <h2>Wizard / <em>{currentEntity}</em></h2>
            </f:then>
            <f:else>
                <h2>Wizard</h2>
            </f:else>
        </f:if>
    </div>
</f:section>

<f:section name="content">
    <f:form action="apply">
        <div class="neos-content neos-container-fluid">
            <div class="neos-module-container">
                <fieldset>
                    <legend>{label}</legend>
                    <div class="neos-row-fluid neos-module-container">
                        <f:form.hidden name="currentAction"
                                       value="{currentAction}"/>
                        <f:form.hidden name="currentEntity"
                                       value="{currentEntity}"/>
                        <f:form.hidden name="identifier"
                                       value="{identifier}"/>

                        <f:if condition="{actionStack.hasBlockers}">
                            <f:render partial="BlockerReport" arguments="{blockers: actionStack.blockers}" />
                        </f:if>
                        <f:render partial="ActionStackReport" arguments="{actions: actionStack.actions}" />
                    </div>
                </fieldset>
            </div>
            <div class="neos-footer">
                <f:link.action action="index"
                               class="neos-button"
                               addQueryString="TRUE">
                    Cancel
                </f:link.action>
                <f:if condition="{actionStack.hasBlockers}">
                    <f:else>
                        <f:form.button type="submit"
                                       class="neos-button neos-button-danger">
                            Execute action stack
                        </f:form.button>
                    </f:else>
                </f:if>
            </div>

        </div>
    </f:form>
    <div class="fixedsticky-dummy" style="height: 72px;"></div>
    </div>
</f:section>
